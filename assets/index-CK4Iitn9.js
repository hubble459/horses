(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}})();function v(f,s){const i=f.width,r=100,t=Array(r*r).fill("#0000"),n=Math.floor(i/r),u=(o,l)=>Math.floor(Math.random()*(l-o+1)+o),h=Array.from({length:20},()=>`hsl(${u(0,360)}deg ${u(30,70)}% ${u(70,90)}%)`),x=o=>o%r,g=o=>Math.floor(o/r);function M(o,l,c){s.fillStyle=c,s.fillRect(o*n,l*n,n,n)}h.forEach(o=>{t[Math.floor(Math.random()*t.length)]=o});function y(){t.forEach((o,l)=>{const c=x(l),a=g(l);M(c,a,o)})}function p(){const o=h[Math.floor(Math.random()*h.length)],l=t.map((e,d)=>e===o?d:-1).filter(e=>e!==-1),c=l.flatMap(e=>{const d=x(e),m=g(e);return[d>0&&t[e-1]!==o&&e-1,d<r-1&&t[e+1]!==o&&e+1,m>0&&t[e-r]!==o&&e-r,m<r-1&&t[e+r]!==o&&e+r].filter(Boolean)}).filter(e=>t[e]==="#0000");if(c.length)c.length===1&&(t[c[0]]=o);else{console.log("DIED",o),h.splice(h.indexOf(o),1);return}const a=l.reduce(([e,d],m)=>[e+x(m),d+g(m)],[0,0]),[E,I]=[Math.round(a[0]/l.length),Math.round(a[1]/l.length)];c.sort((e,d)=>{const m=_=>Math.hypot(x(_)-E,g(_)-I),S=m(d)-m(e);return(t[d]==="#0000"?1:t[e]==="#0000"?-1:0)||S}),t[c[0]]=o,y(),requestAnimationFrame(p)}y(),h.forEach(()=>requestAnimationFrame(p))}function A(f,s){const i=f.width,r=f.height,t=1e3,n=-1.8,u=.5,h=-1,x=1,g=s.createImageData(i,r),M=g.data;for(let y=0;y<i;y++)for(let p=0;p<r;p++){const o=n+y/i*(u-n),l=h+p/r*(x-h);let c=0,a=0,E=0;for(;c*c+a*a<=4&&E<t;){const d=c*c-a*a+o;a=2*c*a+l,c=d,E++}const I=E===t?0:E/t*255,e=(p*i+y)*4;M[e]=I,M[e+1]=I,M[e+2]=I,M[e+3]=255}s.putImageData(g,0,0)}const L={artwork:v,mandel:A},w=document.getElementById("canvas"),O=w.getContext("2d");if(O===null)throw new Error("Could not get context from canvas");var b;const C=(b=location.hash)==null?void 0:b.slice(1),D=document.querySelectorAll("button[id^=mode_]");for(const f of D){const s=f.id.slice(5);f.addEventListener("click",()=>{location.hash=s;const i=L[s];i?(console.debug(`Starting ${s}...`),i(w,O)):console.debug(`Could not find ${s}`)}),s===C&&f.click()}
